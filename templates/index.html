{% extends "base.html" %}

{% block content %}
    <div class="feed">
        <h2>{{ title }}</h2>
        {% if error %}
            <p style="color: red; padding: 10px; border: 1px solid red; border-radius: 4px;">{{ error }}</p>
        {% endif %}
        
        {% if not events %}
            <p>No posts found. {% if title == "Your Feed" %}Try following some people!{% endif %}</p>
        {% endif %}

        {% for note in events %}
        <div class="note">
            <div class="note-meta">
                <span class="author" title="{{ note.pubkey }}">Author: {{ note.pubkey[:8] }}...</span>
                <span class="date">{{ note.timestamp }}</span>
            </div>
            <div class="note-content">
                {{ note.content }}
            </div>
        </div>
        {% endfor %}

        {% if next_until %}
        <div class="pagination" style="text-align: center; margin-top: 20px;">
            <a href="?until={{ next_until }}" class="button" style="display: inline-block; background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">Load More</a>
        </div>
        {% endif %}
    </div>
{% endblock %}
